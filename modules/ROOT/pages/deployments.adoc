= Deployments

A deployment is a specific configuration of xref:policy-stores.adoc[policy stores] (such as ‘production’ or ‘staging’) that can be connected to a set of PDPs. Each new change to the underlying store(s) results in a new policy build that’s automatically delivered to the xref:decision-points.adoc[policy decision points (PDPs)] if the tests are successful.

[unordered.stack]
Source agnostic inputs:: Populate a Policy Store from any Git provider, CI system, API, CLI, or direct upload, so your existing workflows remain intact.
Multi-store composition:: Reference multiple stores in a Deployment to separate ownership, for example security team versus product team, or to blend static Git-managed policies with dynamic API-driven rules.
End-to-end automation:: Build, compilation, testing, signing, and distribution are fully managed by Cerbos Hub, giving you a consistent CI or CD style pipeline for authorization without extra infrastructure.
Traceability and rollback:: Every Deployment is immutable and carries a unique version identifier, making it easy to audit which policies were active for any PDP decision and to roll back if needed.

== Build life cycle

Whenever Cerbos Hub detects a change in any Policy Store referenced by a Deployment, it launches a new build.

. **In progress**: The build appears in the Cerbos Hub UI with the status **In progress**.
. **Compilation failures**: If policy compilation fails, the error is surfaced next to the build version so you can diagnose it quickly.
. **Test execution**: After successful compilation, Cerbos Hub runs all policy tests found across the contributing stores. Failures are displayed in the build details view with full logs for debugging.
. **Bundle generation**: When compilation and tests pass, the bundle status changes to **Generated** and all PDPs that are assigned to this Deployment receive a push notification instructing them to download and activate the bundle immediately.

image:builds_in_progress.png[alt="Build in progress",role="center-img"]

image:compilation_failed.png[alt="Failed compilation",role="center-img"]

image:failed_tests.png[alt="Tests failed",role="center-img"]

image:deployments.png[alt="Deployment history",role="center-img"]


For details on creating Policy Stores and connecting PDPs to receive bundles, see the related guides:

* xref:policy-stores.adoc[Policy Stores]
* xref:decision-points.adoc[PDP configuration]

== Best practices

[unordered.stack]
Use meaningful names:: Name Deployments after their purpose such as application, environment, or team, for example payments-service-production.
Automate testing:: Include comprehensive test cases with each Policy Store to catch regressions before they reach production PDPs.
Implement rollback strategy:: Document a process for emergency rollbacks to previous Deployment versions when needed.
Validate in staging:: Use staging Deployments to verify policy changes in a pre-production environment before promoting to production.
